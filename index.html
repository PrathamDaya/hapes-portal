<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For my Hetu ğŸ’•</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="emoji-background">
        <div class="floating-emoji">ğŸ’–</div><div class="floating-emoji">ğŸŒ¸</div>
        <div class="floating-emoji">âœ¨</div><div class="floating-emoji">ğŸ¦‹</div>
        <div class="floating-emoji">ğŸ’•</div><div class="floating-emoji">ğŸ°</div>
    </div>

    <div class="theme-toggle" id="themeToggle"><i class="fas fa-moon"></i></div>

    <div id="loginContainer">
        <div class="login-box">
            <div class="login-header">
                <h1>Welcome! ğŸ’•</h1>
                <p>Who are you today?</p>
            </div>
            <div class="login-options">
                <button class="chikoo-btn login-btn" onclick="login('Chikoo')">
                    <i class="fas fa-heart"></i> I am Chikoo ğŸ°
                </button>
                <button class="prath-btn login-btn" onclick="login('Prath')">
                    <i class="fas fa-star"></i> I am Prath ğŸ¼
                </button>
            </div>
        </div>
    </div>

    <div id="appContainer">
        <div class="app-header-info">
            <div class="user-info">
                <i class="fas fa-user-circle"></i> <span id="loggedInUserDisplay">User</span>
            </div>
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>

        <section id="homeScreen" class="screen active">
            <header class="main-header">
                <h1>For my Hetu ğŸ’•</h1>
                <p class="header-subtitle">Our special place together</p>
            </header>
            
            <main class="options-grid">
                <div class="option-card" onclick="navigateToApp('feelingsPortalScreen')">
                    <div class="card-icon">ğŸ’–</div>
                    <div class="card-content">
                        <h3>Feelings Portal</h3>
                        <p>Share your heart</p>
                    </div>
                </div>

                <div class="option-card" onclick="navigateToApp('diaryScreen')">
                    <div class="card-icon">ğŸ“…</div>
                    <div class="card-content">
                        <h3>Diary</h3>
                        <p>Daily thoughts & memories</p>
                    </div>
                </div>

                <div class="option-card" onclick="navigateToApp('periodTrackerScreen')">
                    <div class="card-icon">ğŸŒ¸</div>
                    <div class="card-content">
                        <h3>Period Tracker</h3>
                        <p>Track cycle with love</p>
                    </div>
                </div>

                <div class="option-card" onclick="navigateToApp('gamesHubScreen')">
                    <div class="card-icon">ğŸ•¹ï¸</div>
                    <div class="card-content">
                        <h3>Games Arcade</h3>
                        <p>Play together & Dares</p>
                    </div>
                </div>
            </main>
        </section>

        <section id="feelingsPortalScreen" class="screen">
            <div class="container">
                <header>
                    <button class="back-to-home-btn" onclick="navigateToApp('homeScreen')"><i class="fas fa-home"></i></button>
                    <h1>Feelings Portal ğŸ’•</h1>
                </header>
                <main>
                    <div class="feelings-grid">
                        <div class="feeling-card" onclick="openFeelingInput('Grievance')">ğŸ˜” Grievance</div>
                        <div class="feeling-card" onclick="openFeelingInput('Appreciate')">ğŸ˜Š Appreciate</div>
                        <div class="feeling-card" onclick="openFeelingInput('Sad')">ğŸ˜¢ Sad</div>
                        <div class="feeling-card" onclick="openFeelingInput('Happy')">ğŸ˜„ Happy</div>
                    </div>
                    <div class="notebook" style="margin-top:20px;">
                        <h3 id="feelingTitle">Select an emotion above</h3>
                        <textarea id="feelingsMessage" placeholder="Write here..."></textarea>
                        <button onclick="submitFeelingsEntry()">Send Love ğŸ’Œ</button>
                    </div>
                    <button style="margin-top:10px;" onclick="fetchAndDisplayFeelingsEntries()">View Past Entries</button>
                    <div id="feelingsEntriesList" class="entries-list-container"></div>
                </main>
            </div>
        </section>

        <section id="diaryScreen" class="screen">
            <div class="container">
                <header>
                    <button class="back-to-home-btn" onclick="navigateToApp('homeScreen')"><i class="fas fa-home"></i></button>
                    <h1>Diary ğŸ“–</h1>
                </header>
                <div class="calendar-header">
                    <button id="prevMonthBtn">&lt;</button>
                    <h2 id="currentMonthYear"></h2>
                    <button id="nextMonthBtn">&gt;</button>
                </div>
                <div id="calendarGrid" class="calendar-grid"></div>
                <div id="diaryEntryModal" style="margin-top:20px; display:none;">
                    <h3 id="diaryDateTitle"></h3>
                    <div class="notebook">
                        <textarea id="diaryThoughts" placeholder="Dear Diary..."></textarea>
                        <input type="hidden" id="selectedDate">
                        <button onclick="submitDiaryEntry()">Save Entry ğŸ’¾</button>
                    </div>
                </div>
                <button style="margin-top:15px;" onclick="fetchAndDisplayAllDiaryEntries()">View All Entries</button>
                <div id="allDiaryEntriesList" class="entries-list-container"></div>
            </div>
        </section>

        <section id="periodTrackerScreen" class="screen">
            <div class="container">
                <header>
                    <button class="back-to-home-btn" onclick="navigateToApp('homeScreen')"><i class="fas fa-home"></i></button>
                    <h1>Period Tracker ğŸŒ¸</h1>
                </header>
                <div class="period-status-card">
                    <h3 id="periodStatusTitle">Status</h3>
                    <p id="periodStatusText">...</p>
                    <div class="period-actions">
                        <button class="period-btn" onclick="openPeriodDatePicker('start')">Log Start</button>
                        <button class="period-btn" onclick="openPeriodDatePicker('end')">Log End</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="gamesHubScreen" class="screen">
            <div class="container">
                <header>
                    <button class="back-to-home-btn" onclick="navigateToApp('homeScreen')"><i class="fas fa-home"></i></button>
                    <h1>Arcade & Dares ğŸ•¹ï¸</h1>
                </header>
                
                <div class="games-hub-grid">
                    <div class="game-select-card" onclick="openGame('memory')">
                        <div class="game-thumb">ğŸƒ</div>
                        <h3>Love Memory</h3>
                        <p>Match the cards!</p>
                        <span class="high-score-badge" id="hs-memory">Best: 0</span>
                    </div>

                    <div class="game-select-card" onclick="openGame('slasher')">
                        <div class="game-thumb">ğŸ‰</div>
                        <h3>Fruit Slasher</h3>
                        <p>Slice the fruits!</p>
                        <span class="high-score-badge" id="hs-slasher">Best: 0</span>
                    </div>

                    <div class="game-select-card" onclick="openGame('catcher')">
                        <div class="game-thumb">ğŸ§º</div>
                        <h3>Catch the Heart</h3>
                        <p>Don't drop love!</p>
                        <span class="high-score-badge" id="hs-catcher">Best: 0</span>
                    </div>

                    <div class="game-select-card" onclick="openGame('dare')">
                        <div class="game-thumb">ğŸ˜ˆ</div>
                        <h3>Couple Dares</h3>
                        <p>Spicy Challenges</p>
                    </div>
                </div>

                <div id="gameContainer-memory" class="page">
                    <h2>Memory Match</h2>
                    <div class="score-board">Moves: <span id="memoryMoves">0</span></div>
                    <div class="memory-grid" id="memoryGrid"></div>
                    <button onclick="resetMemoryGame()">Restart Game ğŸ”„</button>
                    <button class="back-btn" onclick="backToHub()">Back to Arcade</button>
                </div>

                <div id="gameContainer-slasher" class="page">
                    <h2>Fruit Slasher</h2>
                    <div class="score-board">
                        <span>Score: <span id="slasherScore">0</span></span>
                        <span>Lives: <span id="slasherLives">3</span></span>
                    </div>
                    <div class="game-area" id="slasherArea"></div>
                    <button id="startSlasherBtn" onclick="startSlasherGame()">Start Game â–¶ï¸</button>
                    <button class="back-btn" onclick="backToHub()">Back to Arcade</button>
                </div>

                <div id="gameContainer-catcher" class="page">
                    <h2>Catch the Heart</h2>
                    <div class="score-board">
                        <span>Score: <span id="catcherScore">0</span></span>
                        <span>Lives: <span id="catcherLives">3</span></span>
                    </div>
                    <div class="game-area" id="catcherArea">
                        <div id="catcherPlayer" class="catcher-player">ğŸ¼</div>
                    </div>
                    <p class="small-text">Tap left/right or drag to move</p>
                    <button id="startCatcherBtn" onclick="startCatcherGame()">Start Game â–¶ï¸</button>
                    <button class="back-btn" onclick="backToHub()">Back to Arcade</button>
                </div>

                <div id="gameContainer-dare" class="page">
                    <h2>Couple's Dare ğŸ˜ˆ</h2>
                    <div class="dare-display-area">
                        <div style="font-size:3rem; margin-bottom:10px;">ğŸ”¥</div>
                        <p id="dareText">Ready for a challenge?</p>
                    </div>
                    <button onclick="generateDare()">Generate Dare ğŸ”¥</button>
                    <button class="back-btn" onclick="backToHub()">Back to Arcade</button>
                </div>

            </div>
        </section>

    </div>

    <div id="overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:998;"></div>
    <div id="periodDatePickerPopup" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:white; padding:20px; z-index:999; border-radius:15px;">
        <h3>Select Date</h3>
        <input type="date" id="periodDateInput">
        <br><br>
        <button onclick="confirmPeriodDate()">Confirm</button>
        <button style="background:#ccc" onclick="closePeriodDatePicker()">Cancel</button>
    </div>
    
    <div id="notificationContainer"></div>

    <script src="script.js"></script>
</body>
</html>
